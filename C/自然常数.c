#include <stdio.h>

int main()
{
    int n, i;//n表示第几项，i为循环变量
    double e, a;//e存储结果，a存储n的阶乘
    a = 1.0;//赋初值1
    n = 2;//从第二项开始加，所以赋初值2
    e = 1.0;//第一项值为1，赋初值1

    //外循环用于相加求e
    while ((1 / a) > 0.00001)//当1/n！大于10的-5次方时循环执行
    {
        a = 1.0;//算阶乘，每次循环后赋初值为1重新计算

        //阶乘计算部分
        for (i = 1; i <= n; i++)//从1乘到n
        {
            a *= i;
        }
        e += 1 / a;
        n++;//n自增，就是继续下一项
    }
    printf("e=%lf", e);//输出结果
    return 0;
}